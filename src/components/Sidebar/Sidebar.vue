<template>
  <nav
    :class="{sidebar: true, sidebarStatic, sidebarOpened}"
    @mouseenter="sidebarMouseEnter"
    @mouseleave="sidebarMouseLeave"
  >
    <header class="logo">
      <router-link to="/app">
          <svg width="176" height="42" viewBox="0 0 300 80" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-top: 9px;margin-left: -6px;height: auto;" class="logo_instantsolutions">
              <path d="M96.7916 54.8398L95.0985 56.354C94.5096 55.5046 93.8839 55.0983 93.2582 55.0983C92.9637 55.0983 92.7061 55.1722 92.5221 55.3568C92.338 55.5415 92.2276 55.6892 92.2276 55.9108C92.2276 56.1324 92.3012 56.3171 92.4485 56.5018C92.6325 56.7603 93.1846 57.2774 94.1415 58.0529C95.0249 58.7916 95.5402 59.2348 95.7242 59.4564C96.2027 59.9365 96.5339 60.3797 96.718 60.8229C96.902 61.2661 97.0124 61.7093 97.0124 62.2264C97.0124 63.2236 96.6811 64.0361 95.9818 64.7009C95.2825 65.3657 94.3992 65.6611 93.295 65.6611C92.4485 65.6611 91.6755 65.4395 91.0498 65.0333C90.4241 64.627 89.872 63.9622 89.3936 63.0389L91.3075 61.857C91.8964 62.9281 92.5589 63.4452 93.295 63.4452C93.6999 63.4452 94.0311 63.3344 94.2888 63.1128C94.5464 62.8912 94.6936 62.6326 94.6936 62.3002C94.6936 62.0417 94.5832 61.7462 94.3992 61.4877C94.2151 61.2292 93.7367 60.786 93.0742 60.232C91.7491 59.1609 90.9026 58.3115 90.5345 57.7575C90.1665 57.1666 89.9456 56.5756 89.9456 56.0216C89.9456 55.1722 90.2769 54.4704 90.9026 53.8795C91.5283 53.2886 92.338 52.9931 93.2582 52.9931C93.8471 52.9931 94.436 53.1409 94.9881 53.3994C95.5402 53.584 96.1291 54.1011 96.7916 54.8398ZM116.483 52.8823C118.176 52.8823 119.648 53.5102 120.9 54.729C122.114 55.9847 122.74 57.499 122.74 59.2717C122.74 61.0445 122.151 62.5218 120.936 63.7406C119.722 64.9594 118.249 65.5873 116.52 65.5873C114.716 65.5873 113.207 64.9594 111.992 63.7037C110.778 62.448 110.189 60.9707 110.189 59.2348C110.189 58.0899 110.483 57.0188 111.036 56.0586C111.588 55.0983 112.361 54.3227 113.354 53.7318C114.274 53.1778 115.342 52.8823 116.483 52.8823ZM116.446 55.1352C115.342 55.1352 114.385 55.5415 113.612 56.3171C112.839 57.0927 112.471 58.0899 112.471 59.2717C112.471 60.6013 112.949 61.6724 113.906 62.448C114.643 63.0389 115.489 63.3713 116.483 63.3713C117.587 63.3713 118.507 62.965 119.28 62.1894C120.053 61.4138 120.421 60.4167 120.421 59.2717C120.421 58.1268 120.053 57.1296 119.28 56.354C118.507 55.5415 117.55 55.1352 116.446 55.1352ZM136.468 53.2147H138.75V63.1128H142.1V65.3287H136.468V53.2147ZM155.755 53.2147H158.074V61.0445C158.074 61.7093 158.147 62.1894 158.258 62.4849C158.368 62.7804 158.552 63.002 158.847 63.1497C159.104 63.3344 159.435 63.4082 159.84 63.4082C160.245 63.4082 160.576 63.2974 160.871 63.1128C161.165 62.9281 161.349 62.7065 161.46 62.411C161.57 62.1156 161.644 61.5616 161.644 60.7491V53.2147H163.963V60.4167C163.963 61.6354 163.889 62.4849 163.742 62.965C163.595 63.4452 163.337 63.8884 162.969 64.3316C162.601 64.7748 162.122 65.1072 161.644 65.2918C161.129 65.5134 160.54 65.6242 159.877 65.6242C158.994 65.6242 158.258 65.4395 157.595 65.0333C156.933 64.627 156.491 64.11 156.197 63.519C155.902 62.9281 155.792 61.894 155.792 60.4536V53.2147H155.755ZM176.624 53.2147H183.286V55.5046H181.077V65.3287H178.759V55.4676H176.624V53.2147ZM198.487 53.2147H200.769V65.3287H198.487V53.2147ZM219.908 52.8823C221.601 52.8823 223.073 53.5102 224.324 54.729C225.539 55.9847 226.165 57.499 226.165 59.2717C226.165 61.0445 225.576 62.5218 224.361 63.7406C223.147 64.9594 221.674 65.5873 219.945 65.5873C218.141 65.5873 216.632 64.9594 215.417 63.7037C214.203 62.448 213.614 60.9707 213.614 59.2348C213.614 58.0899 213.908 57.0188 214.46 56.0586C215.013 55.0983 215.785 54.3227 216.779 53.7318C217.736 53.1778 218.767 52.8823 219.908 52.8823ZM219.871 55.1352C218.767 55.1352 217.81 55.5415 217.037 56.3171C216.264 57.0927 215.896 58.0899 215.896 59.2717C215.896 60.6013 216.374 61.6724 217.331 62.448C218.067 63.0389 218.914 63.3713 219.908 63.3713C221.012 63.3713 221.932 62.965 222.705 62.1894C223.478 61.4138 223.846 60.4167 223.846 59.2717C223.846 58.1268 223.478 57.1296 222.705 56.354C221.932 55.5415 220.975 55.1352 219.871 55.1352ZM238.458 53.2147H240.666L245.819 61.1923V53.2147H248.101V65.3287H245.893L240.74 57.3882V65.3287H238.458V53.2147ZM268.786 54.8398L267.093 56.354C266.504 55.5046 265.879 55.0983 265.253 55.0983C264.958 55.0983 264.701 55.1722 264.517 55.3568C264.333 55.5046 264.222 55.6892 264.222 55.9108C264.222 56.1324 264.296 56.3171 264.443 56.5018C264.627 56.7603 265.179 57.2774 266.136 58.0529C267.02 58.7916 267.535 59.2348 267.719 59.4564C268.197 59.9365 268.529 60.3797 268.713 60.8229C268.897 61.2661 269.007 61.7093 269.007 62.2264C269.007 63.2236 268.676 64.0361 267.976 64.7009C267.277 65.3657 266.394 65.6611 265.29 65.6611C264.443 65.6611 263.67 65.4395 263.044 65.0333C262.419 64.627 261.867 63.9622 261.388 63.0389L263.302 61.857C263.891 62.9281 264.554 63.4452 265.29 63.4452C265.695 63.4452 266.026 63.3344 266.283 63.1128C266.541 62.8912 266.688 62.6326 266.688 62.3002C266.688 62.0417 266.578 61.7462 266.394 61.4877C266.173 61.2292 265.731 60.786 265.069 60.232C263.744 59.1609 262.897 58.3115 262.529 57.7575C262.161 57.1666 261.94 56.5756 261.94 56.0216C261.94 55.1722 262.272 54.4704 262.897 53.8795C263.523 53.2886 264.333 52.9931 265.253 52.9931C265.842 52.9931 266.431 53.1409 266.983 53.3994C267.572 53.584 268.161 54.1011 268.786 54.8398Z" fill="#21446D"></path>
              <path d="M99.1022 0C99.7045 0 100.006 0.336548 100.006 1.00964V37.9945C100.006 38.5259 99.8816 38.8978 99.6336 39.1104C99.3856 39.3229 98.9782 39.4292 98.4114 39.4292H90.5468C90.0509 39.4292 89.7143 39.3407 89.5372 39.1635C89.36 38.951 89.2715 38.6321 89.2715 38.207V1.11592C89.2715 0.761662 89.3423 0.495966 89.484 0.318834C89.6612 0.106278 89.8914 0 90.1748 0H99.1022Z" fill="#21446D"></path>
              <path d="M106.501 39.4292C106.041 39.4292 105.704 39.3407 105.492 39.1635C105.315 38.9864 105.226 38.6676 105.226 38.207V12.3814C105.226 11.6375 105.527 11.2655 106.129 11.2655H113.675C114.277 11.2655 114.579 11.5843 114.579 12.222V14.7727C114.579 15.0561 114.667 15.1978 114.844 15.1978C114.951 15.1978 115.075 15.1269 115.216 14.9852C117.979 12.1511 120.884 10.7341 123.931 10.7341C126.446 10.7341 128.466 11.5135 129.989 13.0722C131.548 14.5955 132.327 16.6503 132.327 19.2364V37.9945C132.327 38.951 131.831 39.4292 130.839 39.4292H123.984C123.559 39.4292 123.258 39.3407 123.081 39.1635C122.939 38.9864 122.868 38.6676 122.868 38.207V20.5648C122.868 19.6083 122.567 18.8644 121.965 18.333C121.363 17.7662 120.548 17.4828 119.521 17.4828C118.564 17.4828 117.696 17.7308 116.917 18.2267C116.173 18.6873 115.429 19.4312 114.685 20.4586V38.0476C114.685 38.5436 114.561 38.8978 114.313 39.1104C114.065 39.3229 113.657 39.4292 113.091 39.4292H106.501Z" fill="#21446D"></path>
              <path d="M154.04 18.9707C152.623 17.1994 150.71 16.3137 148.301 16.3137C147.168 16.3137 146.211 16.5263 145.432 16.9514C144.688 17.3765 144.316 17.961 144.316 18.705C144.316 19.0947 144.475 19.4489 144.794 19.7678C145.148 20.0512 145.821 20.3169 146.813 20.5648L152.659 21.8933C155.634 22.5664 157.795 23.6646 159.142 25.1879C160.523 26.7113 161.214 28.5357 161.214 30.6613C161.214 33.5662 160.009 35.8512 157.6 37.5162C155.227 39.1458 152.074 39.9606 148.142 39.9606C144.989 39.9606 142.261 39.4292 139.958 38.3664C137.691 37.2682 136.097 35.8689 135.176 34.1684C134.999 33.885 134.91 33.6193 134.91 33.3714C134.91 33.088 135.034 32.8754 135.282 32.7337L139.427 30.6081C139.71 30.4664 139.976 30.3956 140.224 30.3956C140.507 30.3956 140.738 30.5019 140.915 30.7144C141.765 31.7772 142.686 32.6097 143.678 33.2119C144.705 33.7788 146.14 34.0622 147.982 34.0622C149.399 34.0622 150.551 33.8496 151.436 33.4245C152.357 32.9994 152.818 32.3971 152.818 31.6178C152.818 31.1218 152.588 30.6967 152.127 30.3424C151.702 29.9882 150.94 29.7048 149.842 29.4922L144.422 28.4294C138.825 27.3312 136.026 24.5503 136.026 20.0866C136.026 18.2799 136.504 16.668 137.461 15.2509C138.453 13.8339 139.887 12.7357 141.765 11.9563C143.643 11.1415 145.857 10.7341 148.407 10.7341C151.064 10.7341 153.42 11.2301 155.475 12.222C157.53 13.1785 158.982 14.3653 159.832 15.7823C160.08 16.1366 160.204 16.4377 160.204 16.6857C160.204 16.9337 160.08 17.1108 159.832 17.2171L155.475 19.3426C155.262 19.4489 155.085 19.5021 154.944 19.5021C154.625 19.5021 154.324 19.3249 154.04 18.9707Z" fill="#21446D"></path>
              <path d="M177.854 17.6953C177.428 17.6953 177.216 17.9079 177.216 18.333V29.811C177.216 30.8738 177.499 31.6532 178.066 32.1492C178.668 32.6451 179.607 32.8931 180.882 32.8931H183.433C183.681 32.8931 183.876 32.9817 184.018 33.1588C184.195 33.3359 184.283 33.5662 184.283 33.8496L184.23 37.6756C184.23 38.4196 183.77 38.8801 182.849 39.0572C181.254 39.3052 179.005 39.4292 176.1 39.4292C173.549 39.4292 171.512 38.827 169.989 37.6225C168.501 36.418 167.757 34.6998 167.757 32.468V18.5987C167.757 18.2799 167.704 18.0496 167.598 17.9079C167.491 17.7662 167.297 17.6953 167.013 17.6953H164.144C163.364 17.6953 162.975 17.3411 162.975 16.6325V12.1689C162.975 11.5666 163.329 11.2655 164.037 11.2655H167.438C167.757 11.2655 167.952 11.0706 168.023 10.681L170.838 2.71009C170.873 2.35583 170.944 2.10785 171.05 1.96615C171.192 1.78902 171.422 1.70045 171.741 1.70045H176.525C177.163 1.70045 177.482 2.05471 177.482 2.76323V10.681C177.482 11.0352 177.659 11.2124 178.013 11.2124H183.274C183.593 11.2124 183.841 11.3009 184.018 11.478C184.23 11.6198 184.337 11.8323 184.337 12.1157V16.6325C184.337 17.3411 183.929 17.6953 183.114 17.6953H177.854Z" fill="#21446D"></path>
              <path d="M203.054 36.9848C200.716 38.9687 198.042 39.9606 195.03 39.9606C192.409 39.9606 190.319 39.2344 188.76 37.7819C187.201 36.3294 186.422 34.4696 186.422 32.2023C186.422 30.183 187.059 28.4117 188.335 26.8884C189.61 25.3296 191.435 24.1252 193.808 23.2749C196.217 22.4247 199.051 21.9819 202.31 21.9465L203.373 21.8933C203.94 21.8933 204.223 21.6453 204.223 21.1494V20.1397C204.223 18.9707 203.887 18.0673 203.214 17.4296C202.576 16.792 201.637 16.4731 200.397 16.4731C199.405 16.4731 198.484 16.7034 197.634 17.1639C196.819 17.589 196.146 18.2976 195.615 19.2895C195.509 19.5021 195.402 19.6615 195.296 19.7678C195.19 19.8386 195.03 19.874 194.818 19.874C194.605 19.874 194.428 19.8563 194.286 19.8209L188.122 18.5456C187.768 18.4747 187.591 18.2621 187.591 17.9079C187.591 17.6953 187.662 17.3942 187.803 17.0045C189.433 12.8242 193.773 10.7341 200.823 10.7341C205.251 10.7341 208.421 11.5135 210.334 13.0722C212.247 14.5955 213.204 16.7565 213.204 19.5552V38.1007C213.204 38.6321 213.133 38.9864 212.991 39.1635C212.85 39.3407 212.549 39.4292 212.088 39.4292H205.658C205.268 39.4292 204.985 39.2875 204.808 39.0041C204.631 38.7207 204.489 38.3133 204.383 37.7819L204.33 36.9848C204.294 36.666 204.17 36.5066 203.958 36.5066C203.745 36.5066 203.444 36.666 203.054 36.9848ZM204.223 27.2072C204.223 26.8884 204.153 26.6581 204.011 26.5164C203.905 26.3747 203.71 26.3039 203.426 26.3039L202.576 26.357C201.62 26.3924 200.592 26.5873 199.494 26.9415C198.431 27.2604 197.51 27.774 196.731 28.4826C195.987 29.1557 195.615 29.9705 195.615 30.927C195.615 31.848 195.934 32.5743 196.571 33.1057C197.244 33.6371 198.13 33.9028 199.228 33.9028C200.539 33.9028 201.708 33.4954 202.736 32.6806C203.727 31.8303 204.223 31.051 204.223 30.3424V27.2072Z" fill="#21446D"></path>
              <path d="M218.749 39.4292C218.289 39.4292 217.952 39.3407 217.74 39.1635C217.563 38.9864 217.474 38.6676 217.474 38.207V12.3814C217.474 11.6375 217.775 11.2655 218.378 11.2655H225.923C226.525 11.2655 226.827 11.5843 226.827 12.222V14.7727C226.827 15.0561 226.915 15.1978 227.092 15.1978C227.199 15.1978 227.323 15.1269 227.464 14.9852C230.228 12.1511 233.132 10.7341 236.179 10.7341C238.694 10.7341 240.714 11.5135 242.237 13.0722C243.796 14.5955 244.575 16.6503 244.575 19.2364V37.9945C244.575 38.951 244.079 39.4292 243.087 39.4292H236.232C235.807 39.4292 235.506 39.3407 235.329 39.1635C235.187 38.9864 235.116 38.6676 235.116 38.207V20.5648C235.116 19.6083 234.815 18.8644 234.213 18.333C233.611 17.7662 232.796 17.4828 231.769 17.4828C230.812 17.4828 229.944 17.7308 229.165 18.2267C228.421 18.6873 227.677 19.4312 226.933 20.4586V38.0476C226.933 38.5436 226.809 38.8978 226.561 39.1104C226.313 39.3229 225.906 39.4292 225.339 39.4292H218.749Z" fill="#21446D"></path>
              <path d="M262.143 17.6953C261.718 17.6953 261.506 17.9079 261.506 18.333V29.811C261.506 30.8738 261.789 31.6532 262.356 32.1492C262.958 32.6451 263.897 32.8931 265.172 32.8931H267.723C267.971 32.8931 268.166 32.9817 268.308 33.1588C268.485 33.3359 268.573 33.5662 268.573 33.8496L268.52 37.6756C268.52 38.4196 268.06 38.8801 267.138 39.0572C265.544 39.3052 263.295 39.4292 260.39 39.4292C257.839 39.4292 255.802 38.827 254.279 37.6225C252.791 36.418 252.047 34.6998 252.047 32.468V18.5987C252.047 18.2799 251.994 18.0496 251.888 17.9079C251.781 17.7662 251.586 17.6953 251.303 17.6953H248.433C247.654 17.6953 247.264 17.3411 247.264 16.6325V12.1689C247.264 11.5666 247.619 11.2655 248.327 11.2655H251.728C252.047 11.2655 252.242 11.0706 252.313 10.681L255.128 2.71009C255.163 2.35583 255.234 2.10785 255.34 1.96615C255.482 1.78902 255.712 1.70045 256.031 1.70045H260.815C261.453 1.70045 261.771 2.05471 261.771 2.76323V10.681C261.771 11.0352 261.949 11.2124 262.303 11.2124H267.564C267.882 11.2124 268.13 11.3009 268.308 11.478C268.52 11.6198 268.626 11.8323 268.626 12.1157V16.6325C268.626 17.3411 268.219 17.6953 267.404 17.6953H262.143Z" fill="#21446D"></path>
              <path fill-rule="evenodd" clip-rule="evenodd" d="M66.1594 2.10892C25.6079 18.9056 1.3119 44.7148 19.7997 64.2689C2.03586 44.6229 42.518 15.1793 66.1594 8.72942V2.10892ZM66.1594 18.9144C52.6641 21.8721 6.72868 43.4821 20.2708 64.4732C10.226 48.2635 55.205 27.5616 66.1594 24.2325V18.9144ZM66.1594 33.5708C44.2272 39.6202 18.4233 52.6162 20.8275 65.4538V65.4947C20.7998 65.4419 20.7543 65.4062 20.7025 65.3655C20.6741 65.3431 20.6437 65.3193 20.6134 65.2904C20.4435 65.1013 20.2549 64.93 20.0599 64.753C19.96 64.6623 19.8585 64.5701 19.7569 64.4732C12.9908 57.7316 9.09384 51.1534 7.50937 44.616C3.90274 29.7045 12.496 15.1376 27.2287 0.173908C22.3987 0.175971 17.8822 0.177447 13.5969 0.177422L13.5968 0.177598H5.11536C2.20223 0.177598 0.00683594 2.6291 0.00683594 5.44833V61.0157C0.00683594 63.8349 2.20223 65.9187 5.11536 65.9187L19.126 65.979L19.1383 65.9919L20.6761 65.9857L22.1575 65.9921L22.1447 65.9798L47.411 65.878L66.1594 48.3039V33.5708ZM19.1145 63.7786C2.68134 46.3123 10.4575 25.7365 48.7966 0.164551C46.3045 0.165398 43.8902 0.166363 41.547 0.167376C19.1328 14.9551 1.40228 32.9748 11.3635 53.1963L11.492 53.4414L11.7489 53.9317C12.4769 55.2392 13.2905 56.5875 14.2327 57.9359C15.603 59.8562 17.1875 61.8174 19.1145 63.7786Z" fill="#21446D"></path>
          </svg>
      </router-link>
    </header>
    <ul class="nav">
      <NavLink
        header="Dashboard"
        link="/app/dashboard"
        iconName="flaticon-home"
        index="dashboard"
        isHeader
      />
      <NavLink
        header="Typography"
        link="/app/typography"
        iconName="flaticon-list"
        index="typography"
        isHeader
      />
      <NavLink
        header="Tables Basic"
        link="/app/tables"
        iconName="flaticon-equal-1"
        index="tables"
        isHeader
      />
      <NavLink
        header="Notifications"
        link="/app/notifications"
        iconName="flaticon-star"
        index="notifications"
        isHeader
      />
      <NavLink
        :activeItem="activeItem"
        header="Components"
        link="/app/components"
        iconName="flaticon-network"
        index="components"
        :childrenLinks="[
          { header: 'Charts', link: '/app/components/charts' },
          { header: 'Icons', link: '/app/components/icons' },
          { header: 'Maps', link: '/app/components/maps' },
        ]"
      />
    </ul>
    <p>
    <h5 class="navTitle">
      LABELS
      <a class="actionLink">
        <i class="la la-plus float-right" />
      </a>
    </h5>
    <ul class="sidebarLabels">
      <li>
        <a href="#">
          <i class="fa fa-circle text-warning mr-2" />
          <span class="labelName">My Recent</span>
        </a>
      </li>
      <li>
        <a href="#">
          <i class="fa fa-circle text-gray mr-2" />
          <span class="labelName">Starred</span>
        </a>
      </li>
      <li>
        <a href="#">
          <i class="fa fa-circle text-danger mr-2" />
          <span class="labelName">Background</span>
        </a>
      </li>
    </ul>
    <h5 class="navTitle">
      PROJECTS
    </h5>
    <div class="sidebarAlerts">
      <b-alert
        v-for="alert in alerts"
        :key="alert.id"
        class="sidebarAlert" variant="transparent"
        show dismissible
      >
        <span>{{alert.title}}</span><br />
        <b-progress class="sidebarProgress progress-xs mt-1"
          :variant="alert.color" :value="alert.value" :max="100" />
        <small>{{alert.footer}}</small>
      </b-alert>
    </div>
  </nav>
</template>

<script>
import { mapState, mapActions } from 'vuex';
import isScreen from '@/core/screenHelper';
import NavLink from './NavLink/NavLink';

export default {
  name: 'Sidebar',
  components: { NavLink },
  data() {
    return {
      alerts: [
        {
          id: 0,
          title: 'Sales Report',
          value: 15,
          footer: 'Calculating x-axis bias... 65%',
          color: 'info',
        },
        {
          id: 1,
          title: 'Personal Responsibility',
          value: 20,
          footer: 'Provide required notes',
          color: 'danger',
        },
      ],
    };
  },
  methods: {
    ...mapActions('layout', ['changeSidebarActive', 'switchSidebar']),
    setActiveByRoute() {
      const paths = this.$route.fullPath.split('/');
      paths.pop();
      this.changeSidebarActive(paths.join('/'));
    },
    sidebarMouseEnter() {
      if (!this.sidebarStatic && (isScreen('lg') || isScreen('xl'))) {
        this.switchSidebar(false);
        this.setActiveByRoute();
      }
    },
    sidebarMouseLeave() {
      if (!this.sidebarStatic && (isScreen('lg') || isScreen('xl'))) {
        this.switchSidebar(true);
        this.changeSidebarActive(null);
      }
    },
  },
  created() {
    this.setActiveByRoute();
  },
  computed: {
    ...mapState('layout', {
      sidebarStatic: state => state.sidebarStatic,
      sidebarOpened: state => !state.sidebarClose,
      activeItem: state => state.sidebarActiveElement,
    }),
  },
};
</script>

<!-- Sidebar styles should be scoped -->
<style src="./Sidebar.scss" lang="scss" scoped/>
